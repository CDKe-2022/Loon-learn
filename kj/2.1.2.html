<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŒœæ•°å­—æ¸¸æˆ</title>
    <style>
/* æ›¿æ¢ä¸Šé¢çš„CSSéƒ¨åˆ†ä¸ºä»¥ä¸‹ç§‘æŠ€é£æ ·å¼ */
:root {
    /* ç§‘æŠ€é£é…è‰² */
    --primary: #00c2ff;
    --success: #00ff88;
    --error: #ff3d7f;
    --warning: #ffcc00;
    --bg: #0f172a;
    --card: #1e293b;
    --text: #f8fafc;
    --subtext: #94a3b8;
    --border: #334155;
    --glow: 0 0 15px rgba(0, 194, 255, 0.3);
}

body {
    font-family: 'Segoe UI', system-ui, sans-serif;
    background: var(--bg);
    color: var(--text);
    padding: 20px;
    max-width: 480px;
    margin: 0 auto;
    background-image: radial-gradient(circle at 25% 25%, rgba(0, 194, 255, 0.1) 0%, transparent 50%);
}

.container {
    background: var(--card);
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    margin-bottom: 20px;
    border: 1px solid var(--border);
    position: relative;
    overflow: hidden;
}

.container::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, transparent, rgba(0, 194, 255, 0.05), transparent);
    animation: shimmer 3s infinite;
    pointer-events: none;
}

@keyframes shimmer {
    0% { transform: translateX(-50%) translateY(-50%) rotate(0deg); }
    100% { transform: translateX(-50%) translateY(-50%) rotate(360deg); }
}

.header h1 {
    font-size: 28px;
    font-weight: 700;
    color: var(--primary);
    text-align: center;
    margin-bottom: 24px;
    letter-spacing: 1px;
    text-shadow: 0 0 10px rgba(0, 194, 255, 0.5);
    position: relative;
}

.header h1::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 2px;
    background: var(--primary);
    box-shadow: 0 0 10px var(--primary);
}

.card {
    background: rgba(30, 41, 59, 0.7);
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    margin-bottom: 20px;
    border: 1px solid var(--border);
}

label {
    display: block;
    font-weight: 600;
    font-size: 14px;
    margin-bottom: 8px;
    color: var(--text);
    position: relative;
}

label::after {
    content: '';
    position: absolute;
    bottom: -3px;
    left: 0;
    width: 30px;
    height: 1px;
    background: var(--primary);
}

input {
    width: 100%;
    padding: 12px 16px;
    border: 1px solid var(--border);
    border-radius: 8px;
    font-size: 16px;
    background: rgba(15, 23, 42, 0.5);
    color: var(--text);
    transition: all 0.3s;
    backdrop-filter: blur(5px);
}

input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(0, 194, 255, 0.3);
    background: rgba(15, 23, 42, 0.7);
}

button {
    width: 100%;
    padding: 12px 16px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    margin-bottom: 12px;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
    letter-spacing: 0.5px;
}

button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

button:hover::before {
    left: 100%;
}

.btn-primary { 
    background: linear-gradient(45deg, #00a2e8, #00c2ff); 
    color: white; 
    box-shadow: var(--glow);
}
.btn-primary:hover { 
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(0, 194, 255, 0.5);
}

.btn-success { 
    background: linear-gradient(45deg, #00cc66, #00ff88); 
    color: #0f172a; 
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
}
.btn-success:hover { 
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
}

.btn-error { 
    background: linear-gradient(45deg, #ff0055, #ff3d7f); 
    color: white; 
    box-shadow: 0 0 15px rgba(255, 61, 127, 0.3);
}
.btn-error:hover { 
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(255, 61, 127, 0.5);
}

.attempts {
    background: linear-gradient(45deg, #00a2e8, #0055ff);
    color: white;
    border-radius: 10px;
    padding: 16px;
    text-align: center;
    font-weight: 700;
    margin-bottom: 20px;
    font-size: 18px;
    box-shadow: 0 0 20px rgba(0, 162, 232, 0.3);
    position: relative;
    overflow: hidden;
}

.attempts::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    animation: rotate 4s linear infinite;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.range-hint {
    background: rgba(0, 194, 255, 0.1);
    border: 1px solid rgba(0, 194, 255, 0.3);
    color: var(--primary);
    border-radius: 8px;
    padding: 12px;
    text-align: center;
    font-weight: 600;
    margin: 16px 0;
    transition: all 0.3s;
    box-shadow: 0 0 10px rgba(0, 194, 255, 0.1);
}

.range-hint.updated {
    background: rgba(0, 194, 255, 0.2);
    transform: scale(1.01);
    box-shadow: 0 0 15px rgba(0, 194, 255, 0.3);
}

.message {
    padding: 12px 16px;
    margin: 16px 0;
    border-radius: 8px;
    font-weight: 600;
    text-align: center;
    animation: fadeIn 0.3s;
    background: rgba(30, 41, 59, 0.8);
    border: 1px solid;
    backdrop-filter: blur(5px);
}

.success { 
    background: rgba(0, 255, 136, 0.1); 
    color: #00ff88; 
    border-color: rgba(0, 255, 136, 0.3);
    box-shadow: 0 0 10px rgba(0, 255, 136, 0.2);
}
.error { 
    background: rgba(255, 61, 127, 0.1); 
    color: #ff3d7f; 
    border-color: rgba(255, 61, 127, 0.3);
    box-shadow: 0 0 10px rgba(255, 61, 127, 0.2);
}
.info { 
    background: rgba(0, 194, 255, 0.1); 
    color: var(--primary); 
    border-color: rgba(0, 194, 255, 0.3);
    box-shadow: 0 0 10px rgba(0, 194, 255, 0.2);
}

.history {
    margin-top: 24px;
    border-top: 1px solid var(--border);
    padding-top: 16px;
}

.history-title {
    font-weight: 700;
    margin-bottom: 12px;
    font-size: 16px;
    color: var(--primary);
    position: relative;
    display: inline-block;
}

.history-title::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 100%;
    height: 1px;
    background: var(--primary);
}

.history-list { list-style: none; }

.history-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 12px;
    margin-bottom: 8px;
    background: rgba(15, 23, 42, 0.5);
    border-radius: 6px;
    font-size: 14px;
    border: 1px solid var(--border);
    transition: all 0.2s;
}

.history-item:hover {
    background: rgba(15, 23, 42, 0.7);
    transform: translateX(5px);
    border-color: var(--primary);
}

.result-correct { color: #00ff88; font-weight: bold; }
.result-low { color: #ffcc00; }
.result-high { color: #ff3d7f; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>çŒœæ•°å­—æ¸¸æˆ</h1>
        </div>
        
        <div class="card" id="settings">
            <div class="form-group">
                <label>æœ€å°æ•°å­—</label>
                <input type="number" id="minNumber" value="1">
            </div>
            
            <div class="form-group">
                <label>æœ€å¤§æ•°å­—</label>
                <input type="number" id="maxNumber" value="100">
            </div>
            
            <div class="form-group">
                <label>çŒœæ•°æ¬¡æ•°</label>
                <input type="number" id="attempts" value="5" min="1">
            </div>
            
            <button class="btn-primary" id="startBtn">å¼€å§‹æ¸¸æˆ</button>
        </div>
        
        <div class="game-area" id="gameArea">
            <div class="attempts">
                å‰©ä½™æ¬¡æ•°: <span id="attemptsLeft">5</span>
            </div>
            
            <div class="range-hint" id="rangeHint">è¯·çŒœä¸€ä¸ª 1 åˆ° 100 ä¹‹é—´çš„æ•°å­—</div>
            
            <div class="form-group">
                <label>è¯·è¾“å…¥ä½ çš„çŒœæµ‹</label>
                <input type="number" id="guessInput" placeholder="è¾“å…¥æ•°å­—">
            </div>
            
            <button class="btn-success" id="guessBtn">éªŒè¯çŒœæµ‹</button>
            <button class="btn-error" id="restartBtn">é‡æ–°å¼€å§‹</button>
            
            <div id="messageArea"></div>
            
            <div class="history">
                <div class="history-title">çŒœæ•°å†å²è®°å½•</div>
                <ul class="history-list" id="historyList"></ul>
            </div>
        </div>
    </div>

    <script>
        // ç®€åŒ–å˜é‡å£°æ˜
        let target, attempts, maxAttempts, minN, maxN, curMin, curMax, history = [];
        
        // ç®€åŒ–äº‹ä»¶ç»‘å®š
        document.getElementById('startBtn').onclick = startGame;
        document.getElementById('guessBtn').onclick = checkGuess;
        document.getElementById('restartBtn').onclick = restartGame;
        document.getElementById('guessInput').onkeypress = e => e.key === 'Enter' && checkGuess();
        
        function startGame() {
            minN = parseInt(document.getElementById('minNumber').value) || 1;
            maxN = parseInt(document.getElementById('maxNumber').value) || 100;
            maxAttempts = parseInt(document.getElementById('attempts').value) || 5;
            
            if (minN >= maxN) return msg('æœ€å°æ•°å­—å¿…é¡»å°äºæœ€å¤§æ•°å­—ï¼', 'error');
            if (maxAttempts < 1) return msg('çŒœæ•°æ¬¡æ•°å¿…é¡»å¤§äº0ï¼', 'error');
            
            target = Math.floor(Math.random() * (maxN - minN + 1)) + minN;
            attempts = maxAttempts;
            curMin = minN;
            curMax = maxN;
            history = [];
            
            // ç®€åŒ–UIæ“ä½œ
            document.getElementById('settings').style.display = 'none';
            document.getElementById('gameArea').style.display = 'block';
            document.getElementById('attemptsLeft').textContent = attempts;
            document.getElementById('messageArea').innerHTML = '';
            document.getElementById('guessInput').value = '';
            document.getElementById('guessInput').focus();
            document.getElementById('guessBtn').disabled = false;
            
            updateRange();
            updateHistory();
            msg(`æ¸¸æˆå¼€å§‹ï¼è¯·çŒœ ${minN} åˆ° ${maxN} ä¹‹é—´çš„æ•°å­—ã€‚`, 'info');
        }
        
        function checkGuess() {
            if (attempts <= 0) return msg('æ¸¸æˆå·²ç»“æŸï¼Œè¯·é‡æ–°å¼€å§‹ï¼', 'error');
            
            const guess = parseInt(document.getElementById('guessInput').value);
            if (isNaN(guess) || guess < minN || guess > maxN) {
                return msg(`è¯·è¾“å…¥ ${minN} åˆ° ${maxN} ä¹‹é—´çš„æ•°å­—ï¼`, 'error');
            }
            
            attempts--;
            document.getElementById('attemptsLeft').textContent = attempts;
            
            let result = "", cls = "";
            
            if (guess === target) {
                result = "æ­£ç¡®ï¼"; cls = "result-correct";
                msg(`ğŸ‰ æ­å–œä½ ï¼çŒœå¯¹äº†ï¼ç­”æ¡ˆå°±æ˜¯ ${target}`, 'success');
                document.getElementById('guessBtn').disabled = true;
            } else if (attempts <= 0) {
                result = "é”™è¯¯ï¼"; cls = "result-high";
                msg(`ğŸ˜” å¾ˆé—æ†¾ï¼Œæ¬¡æ•°ç”¨å®Œäº†ï¼æ­£ç¡®ç­”æ¡ˆæ˜¯ ${target}ã€‚`, 'error');
                document.getElementById('guessBtn').disabled = true;
            } else if (guess < target) {
                result = "å¤ªå°äº†"; cls = "result-low";
                msg(`â¬†ï¸ çŒœå°äº†ï¼è¿˜å‰© ${attempts} æ¬¡æœºä¼šã€‚`, 'info');
                if (guess > curMin) curMin = guess + 1;
            } else {
                result = "å¤ªå¤§äº†"; cls = "result-high";
                msg(`â¬‡ï¸ çŒœå¤§äº†ï¼è¿˜å‰© ${attempts} æ¬¡æœºä¼šã€‚`, 'info');
                if (guess < curMax) curMax = guess - 1;
            }
            
            history.push({ number: guess, result, cls });
            updateRange();
            updateHistory();
            
            document.getElementById('guessInput').value = '';
            document.getElementById('guessInput').focus();
        }
        
        function updateRange() {
            const el = document.getElementById('rangeHint');
            el.textContent = `å½“å‰çŒœæµ‹èŒƒå›´ï¼š${curMin} åˆ° ${curMax}`;
            el.classList.add('updated');
            setTimeout(() => el.classList.remove('updated'), 500);
        }
        
        function updateHistory() {
            const list = document.getElementById('historyList');
            list.innerHTML = '';
            history.slice().reverse().forEach((item, i) => {
                const li = document.createElement('li');
                li.className = 'history-item';
                li.innerHTML = `<span>ç¬¬${history.length - i}æ¬¡: ${item.number}</span><span class="${item.cls}">${item.result}</span>`;
                list.appendChild(li);
            });
        }
        
        function restartGame() {
            document.getElementById('settings').style.display = 'block';
            document.getElementById('gameArea').style.display = 'none';
        }
        
        function msg(text, type) {
            document.getElementById('messageArea').innerHTML = 
                `<div class="message ${type}">${text}</div>`;
        }
    </script>
</body>
</html>
